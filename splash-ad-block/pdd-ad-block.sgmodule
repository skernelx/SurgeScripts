#!name=æ‹¼å¤šå¤šå»å¼€å±å¹¿å‘Š
#!desc=å±è”½æ‹¼å¤šå¤šAppå¼€å±å¹¿å‘Šã€å¼¹çª—å¹¿å‘Š
#!author=Kiro Assistant
#!homepage=https://github.com/atopsecret/SurgeScripts
#!icon=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Pinduoduo.png
#!date=2026-01-10

# ============================================================
# ğŸ“‹ åŸºäºæŠ“åŒ…åˆ†æçš„æ‹¼å¤šå¤šå»å¹¿å‘Šè§„åˆ™
# ============================================================

[Rule]
# ç©¿å±±ç”²å¹¿å‘ŠSDKï¼ˆæ‹¼å¤šå¤šä¹Ÿåœ¨ç”¨ï¼‰
DOMAIN-SUFFIX,pangolin-sdk-toutiao.com,REJECT
DOMAIN-SUFFIX,pangolin-sdk-toutiao1.com,REJECT
DOMAIN,log-api.pangolin-sdk-toutiao.com,REJECT
DOMAIN,api-access.pangolin-sdk-toutiao.com,REJECT
DOMAIN,api-access.pangolin-sdk-toutiao1.com,REJECT

# å¹¿ç‚¹é€šå¹¿å‘ŠSDK
DOMAIN-SUFFIX,gdt.qq.com,REJECT
DOMAIN,mi.gdt.qq.com,REJECT

[URL Rewrite]
# æ‹¼å¤šå¤šå¼€å±å¹¿å‘Šç›¸å…³ï¼ˆæ ¹æ®æŠ“åŒ…åˆ†æï¼‰
# æ³¨æ„ï¼šæ‹¼å¤šå¤šçš„å¼€å±å¹¿å‘Šé…ç½®æ··åœ¨ abtest å’Œ experiment æ¥å£ä¸­

[Script]
# æ‹¼å¤šå¤š ABæµ‹è¯•æ¥å£ï¼ˆåŒ…å«å¼€å±å¹¿å‘Šé…ç½®ï¼‰
pdd-abtest-block = type=http-response,pattern=^https?://meta\.pinduoduo\.com/api/app/v2/(abtest|experiment),requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/pdd-ad-block.js,timeout=30

# æ‹¼å¤šå¤šé…ç½®æ¥å£
pdd-config-block = type=http-response,pattern=^https?://cfg-\d\.pddpic\.com/api/one/mobile_config/,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/pdd-ad-block.js,timeout=30

# æ‹¼å¤šå¤šé¦–é¡µæ¥å£ï¼ˆæ¸…ç†å¹¿å‘Šï¼‰
pdd-home-block = type=http-response,pattern=^https?://api\.pinduoduo\.com/api/alexa/(homepage|cells)/,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/pdd-ad-block.js,timeout=30

[MITM]
hostname = %APPEND% meta.pinduoduo.com, cfg-1.pddpic.com, cfg-2.pddpic.com, api.pinduoduo.com
