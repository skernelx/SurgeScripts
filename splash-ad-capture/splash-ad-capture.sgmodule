#!name=å¼€å±å¹¿å‘ŠæŠ“åŒ…åˆ†æ
#!desc=äº¬ä¸œ/æ‹¼å¤šå¤š/é—²é±¼ å¼€å±å¹¿å‘Šè¯·æ±‚æŠ“åŒ…åˆ†æå·¥å…·
#!author=Kiro Assistant
#!homepage=https://github.com/atopsecret/SurgeScripts
#!icon=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Advertising.png
#!date=2026-01-10

# ============================================================
# ğŸ“‹ ä½¿ç”¨è¯´æ˜ï¼š
# 1. å¸è½½äº¬ä¸œã€æ‹¼å¤šå¤šã€é—²é±¼ä¸‰ä¸ªApp
# 2. é‡å¯æ‰‹æœºï¼ˆæ¸…é™¤ç³»ç»Ÿç¼“å­˜ï¼‰
# 3. åœ¨ Surge ä¸­å®‰è£…æ­¤æ¨¡å—
# 4. å¼€å¯ HTTP æŠ“åŒ… å’Œ MITM è§£å¯†
# 5. é‡æ–°å®‰è£…Appï¼Œæ‰“å¼€æ—¶è§‚å¯Ÿ Surge æ—¥å¿—
# 6. æœç´¢ [SPLASH-AD] æˆ– ğŸ”´ æ ‡è®°çš„è¯·æ±‚
# ============================================================

[Script]
# ==================== äº¬ä¸œ JD ====================
jd-api-capture = type=http-request,pattern=^https?://api\.m\.jd\.com/client\.action,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-capture/splash-ad-capture.js,requires-body=1,max-size=2097152
jd-ad-capture = type=http-request,pattern=^https?://(bdsp-x|ads|dsp)\.jd\.com/,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-capture/splash-ad-capture.js,requires-body=1,max-size=1048576
jd-other-capture = type=http-request,pattern=^https?://(un)?api\.m\.jd\.com/,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-capture/splash-ad-capture.js,requires-body=1,max-size=1048576

# ==================== æ‹¼å¤šå¤š PDD ====================
pdd-api-capture = type=http-request,pattern=^https?://api\.pinduoduo\.com/api/,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-capture/splash-ad-capture.js,requires-body=1,max-size=2097152
pdd-mobile-capture = type=http-request,pattern=^https?://mobile\.yangkeduo\.com/,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-capture/splash-ad-capture.js,requires-body=1,max-size=1048576
pdd-other-capture = type=http-request,pattern=^https?://.*\.(pinduoduo|yangkeduo)\.com/,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-capture/splash-ad-capture.js,requires-body=1,max-size=1048576

# ==================== é—²é±¼ Xianyu ====================
xianyu-mtop-capture = type=http-request,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-capture/splash-ad-capture.js,requires-body=1,max-size=2097152
xianyu-splash-capture = type=http-request,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idlecommerce\.splash,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-capture/splash-ad-capture.js,requires-body=1,max-size=1048576
xianyu-ad-capture = type=http-request,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.idle\.idleadv,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-capture/splash-ad-capture.js,requires-body=1,max-size=1048576

# ==================== é€šç”¨å¹¿å‘ŠSDK ====================
chuanshanjia-capture = type=http-request,pattern=^https?://.*\.(pangle|pangolin-sdk-toutiao)\.com/,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-capture/splash-ad-capture.js,requires-body=1,max-size=1048576
gdt-capture = type=http-request,pattern=^https?://.*\.gdt\.qq\.com/,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-capture/splash-ad-capture.js,requires-body=1,max-size=1048576
bd-ad-capture = type=http-request,pattern=^https?://.*mobads.*\.baidu\.com/,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-capture/splash-ad-capture.js,requires-body=1,max-size=1048576

[MITM]
hostname = %APPEND% api.m.jd.com, unapi.m.jd.com, bdsp-x.jd.com, ads.jd.com, dsp.jd.com, api.pinduoduo.com, mobile.yangkeduo.com, *.pinduoduo.com, *.yangkeduo.com, acs.m.goofish.com, acs.m.taobao.com, *.pangle.com, *.pangolin-sdk-toutiao.com, *.gdt.qq.com, mobads.baidu.com
