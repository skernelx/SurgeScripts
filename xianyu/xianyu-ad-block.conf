# é—²é±¼APPå»å¹¿å‘Š - Surge é…ç½®æ–‡ä»¶
# åŸºäºæŠ“åŒ…åˆ†æï¼Œç²¾å‡†å±è”½é—²é±¼å„ç±»å¹¿å‘Š
# 
# ä½œè€…: Kiro Assistant
# ç‰ˆæœ¬: v1.0.0
# æ›´æ–°æ—¶é—´: 2026-01-06

# ==================== è„šæœ¬é…ç½® ====================
[Script]

# å¼€å±å¹¿å‘Šæ‹¦æˆª
é—²é±¼å»å¹¿å‘Š-å¼€å± = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idlecommerce\.splash\.async\.ads,requires-body=1,max-size=0,script-path=xianyu-ad-block.js,timeout=30

# å¹¿å‘Šä¸ŠæŠ¥æ‹¦æˆª
é—²é±¼å»å¹¿å‘Š-ä¸ŠæŠ¥ = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.idle\.idleadv\.app\.launch\.report,requires-body=1,max-size=0,script-path=xianyu-ad-block.js,timeout=30

# å¹¿å‘Šåœºæ™¯æ¢å¤æ‹¦æˆª
é—²é±¼å»å¹¿å‘Š-åœºæ™¯ = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.idle\.idleadv\.scene\.restore,requires-body=1,max-size=0,script-path=xianyu-ad-block.js,timeout=30

# æ‚¬æµ®çƒ/å¼¹çª—å¹¿å‘Šæ‹¦æˆª
é—²é±¼å»å¹¿å‘Š-æ‚¬æµ® = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idle\.user\.strategy\.list,requires-body=1,max-size=0,script-path=xianyu-ad-block.js,timeout=30

# é¦–é¡µTabå¹¿å‘Šè¿½è¸ªæ¸…ç†
é—²é±¼å»å¹¿å‘Š-è¿½è¸ª = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idlehome\.home\.circle\.list,requires-body=1,max-size=0,script-path=xianyu-ad-block.js,timeout=30

# ==================== URLé‡å†™è§„åˆ™ ====================
[URL Rewrite]

# ç›´æ¥æ‹’ç»çš„å¹¿å‘Šè¯·æ±‚ï¼ˆå¯é€‰ï¼Œæ›´æ¿€è¿›çš„æ‹¦æˆªæ–¹å¼ï¼‰
# ^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idlecommerce\.splash - reject-dict
# ^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.idle\.idleadv - reject-200

# ==================== MITM é…ç½® ====================
[MITM]
# é—²é±¼ç›¸å…³åŸŸå
hostname = %APPEND% acs.m.goofish.com, acs.m.taobao.com, gw.m.goofish.com, gw.m.taobao.com

# ==================== ä½¿ç”¨è¯´æ˜ ====================
# 
# ğŸ¯ å®‰è£…æ­¥éª¤ï¼š
# 
# 1ï¸âƒ£ æ·»åŠ è„šæœ¬
#    - å°† xianyu-ad-block.js æ”¾åˆ° Surge è„šæœ¬ç›®å½•
#    - æˆ–ä½¿ç”¨è¿œç¨‹é“¾æ¥å¼•ç”¨
#
# 2ï¸âƒ£ æ·»åŠ é…ç½®
#    - å°†ä¸Šè¿° [Script] å’Œ [MITM] å†…å®¹æ·»åŠ åˆ°ä½ çš„ Surge é…ç½®
#    - é‡æ–°åŠ è½½ Surge é…ç½®
#
# 3ï¸âƒ£ éªŒè¯æ•ˆæœ
#    - å®Œå…¨å…³é—­é—²é±¼APP
#    - é‡æ–°æ‰“å¼€é—²é±¼
#    - å¼€å±å¹¿å‘Šåº”è¯¥è¢«è·³è¿‡
#
# ğŸ“‹ å±è”½å†…å®¹ï¼š
#    âœ… å¼€å±å¹¿å‘Šï¼ˆå¯åŠ¨æ—¶çš„å…¨å±å¹¿å‘Šï¼‰
#    âœ… é¦–é¡µæ‚¬æµ®çƒå¹¿å‘Š
#    âœ… å¼¹çª—å¹¿å‘Š
#    âœ… å¹¿å‘Šè¿½è¸ªå‚æ•°
#
# âš ï¸ æ³¨æ„äº‹é¡¹ï¼š
#    - ç¡®ä¿ MITM åŠŸèƒ½å·²å¼€å¯
#    - ç¡®ä¿å·²ä¿¡ä»» Surge CA è¯ä¹¦
#    - å¦‚é‡é—®é¢˜å¯å…³é—­è„šæœ¬æ’æŸ¥
#
# ğŸ”§ è¿œç¨‹å¼•ç”¨æ–¹å¼ï¼š
#    å°† script-path æ”¹ä¸º GitHub Raw é“¾æ¥ï¼š
#    script-path=https://raw.githubusercontent.com/ä½ çš„ç”¨æˆ·å/SurgeScripts/main/xianyu/xianyu-ad-block.js

