#!name=äº¬ä¸œ/æ‹¼å¤šå¤š/é—²é±¼å»å¼€å±å¹¿å‘Šåˆé›†
#!desc=ä¸€é”®å±è”½äº¬ä¸œã€æ‹¼å¤šå¤šã€é—²é±¼ä¸‰å¤§Appçš„å¼€å±å¹¿å‘Šã€å¼¹çª—å¹¿å‘Š
#!author=Kiro Assistant
#!homepage=https://github.com/atopsecret/SurgeScripts
#!icon=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Advertising.png
#!date=2026-01-10

# ============================================================
# ğŸ“‹ åŸºäºæŠ“åŒ…åˆ†æçš„å»å¹¿å‘Šè§„åˆ™åˆé›†
# 
# ğŸ¯ å±è”½å†…å®¹ï¼š
#    âœ… äº¬ä¸œå¼€å±å¹¿å‘Šã€å¼¹çª—å¹¿å‘Š
#    âœ… æ‹¼å¤šå¤šå¼€å±å¹¿å‘Šã€å¼¹çª—å¹¿å‘Š
#    âœ… é—²é±¼å¼€å±å¹¿å‘Šã€æ‚¬æµ®çƒã€å¼¹çª—å¹¿å‘Š
#    âœ… ç©¿å±±ç”²å¹¿å‘ŠSDK
#    âœ… å¹¿ç‚¹é€šå¹¿å‘ŠSDK
# ============================================================

[Rule]
# ==================== å¹¿å‘ŠSDK ====================
# ç©¿å±±ç”²å¹¿å‘ŠSDKï¼ˆå­—èŠ‚è·³åŠ¨ï¼‰
DOMAIN-SUFFIX,pangolin-sdk-toutiao.com,REJECT
DOMAIN-SUFFIX,pangolin-sdk-toutiao1.com,REJECT
DOMAIN-SUFFIX,pglstatp-toutiao.com,REJECT
DOMAIN,gromore.pangolin-sdk-toutiao.com,REJECT
DOMAIN,log-api.pangolin-sdk-toutiao.com,REJECT
DOMAIN,api-access.pangolin-sdk-toutiao.com,REJECT
DOMAIN,api-access.pangolin-sdk-toutiao1.com,REJECT

# å¹¿ç‚¹é€šå¹¿å‘ŠSDKï¼ˆè…¾è®¯ï¼‰
DOMAIN,mi.gdt.qq.com,REJECT

# äº¬ä¸œå¹¿å‘ŠåŸŸå
DOMAIN,bdsp-x.jd.com,REJECT
DOMAIN,dsp.jd.com,REJECT
DOMAIN,ads.jd.com,REJECT

# ==================== é—²é±¼ ====================
# å¹¿ç‚¹é€šå¹¿å‘ŠSDK
DOMAIN,mi.gdt.qq.com,REJECT
# å¹¿å‘Šæ›å…‰ä¸ŠæŠ¥
DOMAIN,g-acs.m.goofish.com,REJECT

[URL Rewrite]
# ==================== äº¬ä¸œ ====================
^https?://api\.m\.jd\.com/client\.action\?functionId=start - reject-dict
^https?://api\.m\.jd\.com/client\.action\?functionId=queryMaterialAdverts - reject-dict

# ==================== é—²é±¼ ====================
# å¹¿å‘Šæ›å…‰æ¥å£
^https?://g-acs\.m\.goofish\.com/gw/mtop\.idle\.ad\.expose - reject-dict

[Script]
# ==================== äº¬ä¸œè„šæœ¬ ====================
jd-splash-block = type=http-response,pattern=^https?://api\.m\.jd\.com/client\.action\?functionId=(start|queryMaterialAdverts|getAdConfig|getAdvertising),requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/jd-ad-block.js,timeout=30
jd-config-block = type=http-response,pattern=^https?://api\.m\.jd\.com/client\.action\?functionId=basicConfig,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/jd-ad-block.js,timeout=30
jd-popup-block = type=http-response,pattern=^https?://api\.m\.jd\.com/client\.action\?functionId=(getBubbleInfo|switchQuery|xview2Config),requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/jd-ad-block.js,timeout=30

# ==================== æ‹¼å¤šå¤šè„šæœ¬ ====================
pdd-abtest-block = type=http-response,pattern=^https?://meta\.pinduoduo\.com/api/app/v2/(abtest|experiment),requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/pdd-ad-block.js,timeout=30
pdd-config-block = type=http-response,pattern=^https?://cfg-\d\.pddpic\.com/api/one/mobile_config/,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/pdd-ad-block.js,timeout=30
pdd-home-block = type=http-response,pattern=^https?://api\.pinduoduo\.com/api/alexa/(homepage|cells)/,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/pdd-ad-block.js,timeout=30

# ==================== é—²é±¼è„šæœ¬ ====================
# å¼€å±å¹¿å‘Šï¼ˆåŒæ­¥ï¼‰- å…³é”®æ¥å£ï¼
xianyu-splash-sync = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idlecommerce\.splash\.ads,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/xianyu-ad-block.js,timeout=30
# å¼€å±å¹¿å‘Šï¼ˆå¼‚æ­¥ï¼‰
xianyu-splash-async = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idlecommerce\.splash\.async\.ads,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/xianyu-ad-block.js,timeout=30
# å¹¿å‘Šä¸ŠæŠ¥
xianyu-ad-report = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.idle\.idleadv\.app\.launch\.report,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/xianyu-ad-block.js,timeout=30
# å¹¿å‘Šåœºæ™¯æ¢å¤
xianyu-ad-scene = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.idle\.idleadv\.scene\.restore,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/xianyu-ad-block.js,timeout=30
# ABé…ç½®ï¼ˆå…³é—­å¹¿å‘ŠABæµ‹è¯•ï¼‰
xianyu-ab-config = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idle\.ab\.config\.get,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/xianyu-ad-block.js,timeout=30
# ç”¨æˆ·ç­–ç•¥ï¼ˆæ‚¬æµ®çƒ/å¼¹çª—ï¼‰
xianyu-strategy = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idle\.user\.strategy\.list,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/xianyu-ad-block.js,timeout=30
# é¦–é¡µåœˆå­åˆ—è¡¨
xianyu-circle = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idlehome\.home\.circle\.list,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/xianyu-ad-block.js,timeout=30
# é¦–é¡µåˆ·æ–°
xianyu-refresh = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idlehome\.home\.nextfresh,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/xianyu-ad-block.js,timeout=30
# æ´»åŠ¨æŸ¥è¯¢
xianyu-activity = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idle\.activity\.query,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/xianyu-ad-block.js,timeout=30
# é¦–é¡µé…ç½®
xianyu-home-config = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idle\.home\.config,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/xianyu-ad-block.js,timeout=30

[MITM]
hostname = %APPEND% api.m.jd.com, meta.pinduoduo.com, cfg-1.pddpic.com, cfg-2.pddpic.com, api.pinduoduo.com, acs.m.goofish.com, acs.m.taobao.com, g-acs.m.goofish.com
