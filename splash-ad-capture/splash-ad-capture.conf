# ============================================================
# äº¬ä¸œ/æ‹¼å¤šå¤š/é—²é±¼ å¼€å±å¹¿å‘ŠæŠ“åŒ…é…ç½®
# ============================================================
# 
# ğŸ“‹ ä½¿ç”¨è¯´æ˜ï¼š
# 1. å¸è½½äº¬ä¸œã€æ‹¼å¤šå¤šã€é—²é±¼ä¸‰ä¸ªApp
# 2. é‡å¯æ‰‹æœºï¼ˆæ¸…é™¤ç³»ç»Ÿç¼“å­˜ï¼‰
# 3. åœ¨ Surge ä¸­å¯¼å…¥æ­¤é…ç½®
# 4. å¼€å¯ HTTP æŠ“åŒ… å’Œ MITM è§£å¯†
# 5. é‡æ–°å®‰è£…Appï¼Œæ‰“å¼€æ—¶è§‚å¯Ÿ Surge æ—¥å¿—
# 6. æœç´¢ [SPLASH-AD] æ ‡è®°çš„è¯·æ±‚
#
# ä½œè€…: Kiro Assistant
# æ›´æ–°: 2026-01-10
# ============================================================

[Script]

# ==================== äº¬ä¸œ JD ====================
# äº¬ä¸œä¸»APIï¼ˆå¼€å±å¹¿å‘Šä¸»è¦æ¥å£ï¼‰
jd-api-capture = type=http-request,pattern=^https?://api\.m\.jd\.com/client\.action,script-path=splash-ad-capture.js,requires-body=1,max-size=2097152

# äº¬ä¸œå¹¿å‘Šç›¸å…³
jd-ad-capture = type=http-request,pattern=^https?://(bdsp-x|ads|dsp)\.jd\.com/,script-path=splash-ad-capture.js,requires-body=1,max-size=1048576

# äº¬ä¸œCDNèµ„æºï¼ˆå¹¿å‘Šå›¾ç‰‡ï¼‰
jd-cdn-capture = type=http-request,pattern=^https?://m\.360buyimg\.com/,script-path=splash-ad-capture.js,requires-body=0,max-size=0

# äº¬ä¸œå…¶ä»–æ¥å£
jd-other-capture = type=http-request,pattern=^https?://(un)?api\.m\.jd\.com/,script-path=splash-ad-capture.js,requires-body=1,max-size=1048576

# ==================== æ‹¼å¤šå¤š PDD ====================
# æ‹¼å¤šå¤šä¸»API
pdd-api-capture = type=http-request,pattern=^https?://api\.pinduoduo\.com/api/,script-path=splash-ad-capture.js,requires-body=1,max-size=2097152

# æ‹¼å¤šå¤šç§»åŠ¨ç«¯API
pdd-mobile-capture = type=http-request,pattern=^https?://mobile\.yangkeduo\.com/,script-path=splash-ad-capture.js,requires-body=1,max-size=1048576

# æ‹¼å¤šå¤šå¹¿å‘Šç›¸å…³
pdd-ad-capture = type=http-request,pattern=^https?://(video|img)\.pinduoduo\.com/,script-path=splash-ad-capture.js,requires-body=0,max-size=0

# æ‹¼å¤šå¤šå…¶ä»–åŸŸå
pdd-other-capture = type=http-request,pattern=^https?://.*\.(pinduoduo|yangkeduo)\.com/,script-path=splash-ad-capture.js,requires-body=1,max-size=1048576

# ==================== é—²é±¼ Xianyu ====================
# é—²é±¼ä¸»APIï¼ˆmtopæ¥å£ï¼‰
xianyu-mtop-capture = type=http-request,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.,script-path=splash-ad-capture.js,requires-body=1,max-size=2097152

# é—²é±¼å¼€å±å¹¿å‘Šä¸“ç”¨æ¥å£
xianyu-splash-capture = type=http-request,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idlecommerce\.splash,script-path=splash-ad-capture.js,requires-body=1,max-size=1048576

# é—²é±¼å¹¿å‘Šç›¸å…³
xianyu-ad-capture = type=http-request,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.idle\.idleadv,script-path=splash-ad-capture.js,requires-body=1,max-size=1048576

# é—²é±¼CDNèµ„æº
xianyu-cdn-capture = type=http-request,pattern=^https?://gw\.alicdn\.com/,script-path=splash-ad-capture.js,requires-body=0,max-size=0

# ==================== é€šç”¨å¹¿å‘ŠSDK ====================
# ç©¿å±±ç”²å¹¿å‘ŠSDKï¼ˆå­—èŠ‚è·³åŠ¨ï¼‰
chuanshanjia-capture = type=http-request,pattern=^https?://.*\.(pangle|pangolin-sdk-toutiao)\.com/,script-path=splash-ad-capture.js,requires-body=1,max-size=1048576

# å¹¿ç‚¹é€šå¹¿å‘ŠSDKï¼ˆè…¾è®¯ï¼‰
gdt-capture = type=http-request,pattern=^https?://.*\.gdt\.qq\.com/,script-path=splash-ad-capture.js,requires-body=1,max-size=1048576

# ä¼˜é‡æ±‡å¹¿å‘ŠSDK
ylh-capture = type=http-request,pattern=^https?://mi\.gdt\.qq\.com/,script-path=splash-ad-capture.js,requires-body=1,max-size=1048576

# å¿«æ‰‹å¹¿å‘ŠSDK
ks-ad-capture = type=http-request,pattern=^https?://.*\.adukwai\.com/,script-path=splash-ad-capture.js,requires-body=1,max-size=1048576

# ç™¾åº¦å¹¿å‘ŠSDK
bd-ad-capture = type=http-request,pattern=^https?://.*mobads.*\.baidu\.com/,script-path=splash-ad-capture.js,requires-body=1,max-size=1048576

[MITM]
hostname = %APPEND% api.m.jd.com, unapi.m.jd.com, bdsp-x.jd.com, ads.jd.com, dsp.jd.com, m.360buyimg.com, api.pinduoduo.com, mobile.yangkeduo.com, video.pinduoduo.com, img.pinduoduo.com, *.pinduoduo.com, *.yangkeduo.com, acs.m.goofish.com, acs.m.taobao.com, gw.alicdn.com, *.pangle.com, *.pangolin-sdk-toutiao.com, *.gdt.qq.com, mi.gdt.qq.com, *.adukwai.com, mobads.baidu.com, mobads-logs.baidu.com
