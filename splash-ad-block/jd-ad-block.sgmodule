#!name=äº¬ä¸œå»å¼€å±å¹¿å‘Š
#!desc=å±è”½äº¬ä¸œAppå¼€å±å¹¿å‘Šã€å¼¹çª—å¹¿å‘Š
#!author=Kiro Assistant
#!homepage=https://github.com/atopsecret/SurgeScripts
#!icon=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/JD.png
#!date=2026-01-10

# ============================================================
# ğŸ“‹ åŸºäºæŠ“åŒ…åˆ†æçš„äº¬ä¸œå»å¹¿å‘Šè§„åˆ™
# ============================================================

[Rule]
# ç©¿å±±ç”²å¹¿å‘ŠSDK
DOMAIN-SUFFIX,pangolin-sdk-toutiao.com,REJECT
DOMAIN-SUFFIX,pangolin-sdk-toutiao1.com,REJECT
DOMAIN-SUFFIX,pglstatp-toutiao.com,REJECT
DOMAIN,gromore.pangolin-sdk-toutiao.com,REJECT
DOMAIN,log-api.pangolin-sdk-toutiao.com,REJECT
DOMAIN,api-access.pangolin-sdk-toutiao.com,REJECT
DOMAIN,api-access.pangolin-sdk-toutiao1.com,REJECT

# äº¬ä¸œå¹¿å‘Šç›¸å…³åŸŸå
DOMAIN,bdsp-x.jd.com,REJECT
DOMAIN,dsp.jd.com,REJECT
DOMAIN,ads.jd.com,REJECT

[URL Rewrite]
# äº¬ä¸œå¼€å±å¹¿å‘Šæ¥å£ - ç›´æ¥æ‹’ç»
^https?://api\.m\.jd\.com/client\.action\?functionId=start - reject-dict
^https?://api\.m\.jd\.com/client\.action\?functionId=queryMaterialAdverts - reject-dict

[Script]
# äº¬ä¸œå¼€å±å¹¿å‘Šå¤„ç†
jd-splash-block = type=http-response,pattern=^https?://api\.m\.jd\.com/client\.action\?functionId=(start|queryMaterialAdverts|getAdConfig|getAdvertising),requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/jd-ad-block.js,timeout=30

# äº¬ä¸œé…ç½®æ¥å£ï¼ˆæ¸…ç†å¹¿å‘Šé…ç½®ï¼‰
jd-config-block = type=http-response,pattern=^https?://api\.m\.jd\.com/client\.action\?functionId=basicConfig,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/jd-ad-block.js,timeout=30

# äº¬ä¸œå¼¹çª—å¹¿å‘Š
jd-popup-block = type=http-response,pattern=^https?://api\.m\.jd\.com/client\.action\?functionId=(getBubbleInfo|switchQuery|xview2Config),requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/jd-ad-block.js,timeout=30

[MITM]
hostname = %APPEND% api.m.jd.com
