#!name=é—²é±¼å»å¼€å±å¹¿å‘Š
#!desc=å±è”½é—²é±¼Appå¼€å±å¹¿å‘Šã€å¼¹çª—å¹¿å‘Šã€æ‚¬æµ®çƒ
#!author=Kiro Assistant
#!homepage=https://github.com/atopsecret/SurgeScripts
#!icon=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Xianyu.png
#!date=2026-01-10

# ============================================================
# ğŸ“‹ åŸºäºæŠ“åŒ…åˆ†æçš„é—²é±¼å»å¹¿å‘Šè§„åˆ™
# ============================================================

[Rule]
# ç©¿å±±ç”²å¹¿å‘ŠSDK
DOMAIN-SUFFIX,pangolin-sdk-toutiao.com,REJECT
DOMAIN-SUFFIX,pangolin-sdk-toutiao1.com,REJECT
DOMAIN,gromore.pangolin-sdk-toutiao.com,REJECT
DOMAIN,log-api.pangolin-sdk-toutiao.com,REJECT
DOMAIN,api-access.pangolin-sdk-toutiao.com,REJECT
DOMAIN,api-access.pangolin-sdk-toutiao1.com,REJECT

# å¹¿ç‚¹é€šå¹¿å‘ŠSDK
DOMAIN,mi.gdt.qq.com,REJECT

[Rule]
# å¹¿ç‚¹é€šå¹¿å‘ŠSDK
DOMAIN,mi.gdt.qq.com,REJECT

# å¹¿å‘Šæ›å…‰ä¸ŠæŠ¥
DOMAIN,g-acs.m.goofish.com,REJECT

[URL Rewrite]
# é—²é±¼å¹¿å‘Šæ›å…‰æ¥å£ - ç›´æ¥æ‹’ç»
^https?://g-acs\.m\.goofish\.com/gw/mtop\.idle\.ad\.expose - reject-dict

[Script]
# å¼€å±å¹¿å‘Šï¼ˆåŒæ­¥ï¼‰- å…³é”®æ¥å£ï¼è¿”å›4KB+æ•°æ®
xianyu-splash-sync = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idlecommerce\.splash\.ads,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/xianyu-ad-block.js,timeout=30

# å¼€å±å¹¿å‘Šï¼ˆå¼‚æ­¥ï¼‰
xianyu-splash-async = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idlecommerce\.splash\.async\.ads,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/xianyu-ad-block.js,timeout=30

# é—²é±¼å¹¿å‘Šä¸ŠæŠ¥ï¼ˆé˜»æ­¢ä¸ŠæŠ¥ï¼‰
xianyu-ad-report = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.idle\.idleadv\.app\.launch\.report,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/xianyu-ad-block.js,timeout=30

# é—²é±¼å¹¿å‘Šåœºæ™¯æ¢å¤
xianyu-ad-scene = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.idle\.idleadv\.scene\.restore,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/xianyu-ad-block.js,timeout=30

# é—²é±¼ABé…ç½®ï¼ˆå…³é—­å¹¿å‘ŠABæµ‹è¯•ï¼‰
xianyu-ab-config = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idle\.ab\.config\.get,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/xianyu-ad-block.js,timeout=30

# é—²é±¼ç”¨æˆ·ç­–ç•¥ï¼ˆæ‚¬æµ®çƒ/å¼¹çª—ï¼‰
xianyu-strategy = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idle\.user\.strategy\.list,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/xianyu-ad-block.js,timeout=30

# é—²é±¼é¦–é¡µåœˆå­åˆ—è¡¨ï¼ˆæ¸…ç†å¹¿å‘Šï¼‰
xianyu-circle = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idlehome\.home\.circle\.list,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/xianyu-ad-block.js,timeout=30

# é—²é±¼é¦–é¡µåˆ·æ–°ï¼ˆæ¸…ç†å¹¿å‘Šï¼‰
xianyu-refresh = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idlehome\.home\.nextfresh,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/xianyu-ad-block.js,timeout=30

# é—²é±¼æ´»åŠ¨æŸ¥è¯¢ï¼ˆæ¸…ç†å¹¿å‘Šæ´»åŠ¨ï¼‰
xianyu-activity = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idle\.activity\.query,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/xianyu-ad-block.js,timeout=30

# é—²é±¼é¦–é¡µé…ç½®
xianyu-home-config = type=http-response,pattern=^https?://acs\.m\.(goofish|taobao)\.com/gw/mtop\.taobao\.idle\.home\.config,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/atopsecret/SurgeScripts/main/splash-ad-block/xianyu-ad-block.js,timeout=30

[MITM]
hostname = %APPEND% acs.m.goofish.com, acs.m.taobao.com, g-acs.m.goofish.com
